/* Multidim Abstract Syntax */

schemaDecl		::= dimensionDecl levelDecl pcRelsDecl factDecl iConstraintsDecl
dimensionDecl		::= dimensionDecl +
                        | 'Dimension' DIMENSION_NAME 'includes level' LEVEL_NAME ';'
                        | 'Dimension' DIMENSION_NAME 'includes' hierarchyDecl ';'

levelDecl	 	::= levelDecl+
                	| 'Level' LEVEL_NAME 'has' attributeDecl ';'

attributeDecl 		::= attributeDecl+
                	| 'Attribute' ATTRIBUTE_NAME 'of type' attributeType ';'

hierarchyDecl 		::= hierarchyDecl+
                	| 'Hierarchy' HIERARCHY_NAME 'composed of' pcRelsSet ';'

pcRelsDecl 		::= pcRelsDecl+
			| 'PCRel' PC_NAME 'involves' LEVEL_NAME ',' LEVEL_NAME ';' 
			| 'PCRel' PC_NAME 'involves' LEVEL_NAME ',' LEVEL_NAME  'has distributing factor' ';' 

pcRelsSet		::= PC_NAME (',' pcRelsSet)*

factDecl 		::= factDecl+
                	| 'Fact relationship' FACT_NAME 'involves' levelInvolvment ';'
                	| 'Fact relationship' FACT_NAME 'involves' levelInvolvment  'has' measureDecl ';'

levelInvolvment 	::= levelInvolvment+
			| LEVEL_NAME ';'
			| LEVEL_NAME 'as' LEVEL_ROLE ';'

measureDecl 		::= measureDecl+
                	| 'Measure' MEASURE_NAME 'of type' measureType 'is' additivityType ';'

iConstraintsDecl	::= iConstraintsDecl+
			| ATTRIBUTE_NAME 'is primary key of' LEVEL_NAME ';' 	
			| 'Participation of' LEVEL_NAME 'in' PC_NAME 'is (' MIN_CARD ',' MAX_CARD ');'
			| 'Exclusive participation of' LEVEL_NAME 'in' pcRelsSet ';'

attributeType		::= INTEGER | REAL | STRING
measureType		::= INTEGER | REAL | STRING
additivityType		::= ADDITIVE | SEMIADDITIVE | NONADDITIVE
