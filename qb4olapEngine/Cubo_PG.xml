<Schema name="dw2012_2">
  <Dimension type="TimeDimension" visible="true" highCardinality="false" name="Tiempo">
    <Hierarchy name="AnioTrimestreMes" visible="true" hasAll="true">
      <Table name="tiempo">
      </Table>
      <Level name="Anio" visible="true" column="ANIO" type="String" uniqueMembers="false" levelType="TimeYears" hideMemberIf="Never">
      </Level>
      <Level name="Trimestre" visible="true" column="TRIMESTRE" type="String" uniqueMembers="false" levelType="TimeQuarters" hideMemberIf="Never">
      </Level>
      <Level name="Mes" visible="true" column="IDTIEMPO" nameColumn="MES" type="String" uniqueMembers="false" levelType="TimeMonths" hideMemberIf="Never">
      </Level>
    </Hierarchy>
  </Dimension>
  <Dimension type="StandardDimension" visible="true" highCardinality="false" name="Ubicacion Geografica">
    <Hierarchy name="BarrioHogar" visible="true" hasAll="true">
      <Table name="ubicaciones">
      </Table>
      <Level name="Barrio" visible="true" column="BARRIO" nameColumn="NOMBARRIO" type="Numeric" uniqueMembers="true" levelType="Regular" hideMemberIf="Never">
			<Property name="State" column="plant_state_id" type="Numeric" dependsOnLevelValue="true"/>
      </Level>
      <Level name="Hogar" visible="true" column="NUMERO" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never">
      </Level>
    </Hierarchy>
    <Hierarchy name="CCZHogar" visible="true" hasAll="true">
      <Table name="ubicaciones">
      </Table>
      <Level name="CCZ" visible="true" column="CCZ" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
      <Level name="Hogar" visible="true" column="NUMERO" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
    </Hierarchy>
    <Hierarchy name="RegionLocalidadHogar" visible="true" hasAll="true">
      <Table name="ubicaciones">
      </Table>
      <Level name="Region" visible="true" column="REGION" type="String" uniqueMembers="true" levelType="Regular" hideMemberIf="Never">
      </Level>
      <Level name="Localidad" visible="true" column="LOCAGR" nameColumn="NOMLOCAGR" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
      <Level name="Hogar" visible="true" column="NUMERO" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
    </Hierarchy>
    <Hierarchy name="DepartamentoLocalidadHogar" visible="true" hasAll="true">
      <Table name="ubicaciones">
      </Table>
      <Level name="Departamento" visible="true" column="DPTO" nameColumn="NOMDPTO" type="Numeric" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
      <Level name="Localidad" visible="true" column="LOCAGR" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
      <Level name="Hogar" visible="true" column="NUMERO" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
    </Hierarchy>
  </Dimension>
  <Dimension type="StandardDimension" visible="true" highCardinality="false" name="Confort">
    <Hierarchy name="Confort" visible="true" hasAll="true">
      <InlineTable alias="Confort">
		<ColumnDefs>
			<ColumnDef name="id" type="Numeric"/>
			<ColumnDef name="desc" type="String"/>
		</ColumnDefs>
		<Rows>
			<Row>
				<Value column="id">1</Value>
				<Value column="desc">High</Value>
			</Row>
			<Row>
				<Value column="id">2</Value>
				<Value column="desc">Medium</Value>
			</Row>
			<Row>
				<Value column="id">3</Value>
				<Value column="desc">Low</Value>
			</Row>
		</Rows>
	</InlineTable>
      <Level name="Confort" visible="true" column="id" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
    </Hierarchy>
  </Dimension>
  <Dimension type="StandardDimension" visible="true" highCardinality="false" name="Tipo de Vivienda">
    <Hierarchy name="Tipo de Vivienda" visible="true" hasAll="true">
      <Table name="tipovivienda">
      </Table>
      <Level name="Tipo Vivienda" visible="true" column="TIPOVIVIENDA" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
      </Level>
    </Hierarchy>
  </Dimension>
  <Cube name="req1" visible="true" cache="true" enabled="true">
    <Table name="req1">
    </Table>
    <DimensionUsage source="Tiempo" name="Tiempo" visible="true" foreignKey="IDTIEMPO" highCardinality="false">
    </DimensionUsage>
    <DimensionUsage source="Ubicacion Geografica" name="Ubicacion" visible="true" foreignKey="NUMERO" highCardinality="false">
    </DimensionUsage>
    <DimensionUsage source="Confort" name="Confort" visible="true" foreignKey="CONFORT" highCardinality="false">
    </DimensionUsage>
    <DimensionUsage source="Tipo de Vivienda" name="Tipo de Vivienda" visible="true" foreignKey="TIPOVIVIENDA" highCardinality="false">
    </DimensionUsage>
    <Dimension type="StandardDimension" visible="true" foreignKey="IDTIEMPO" highCardinality="false" name="Tiempo2">
      <Hierarchy name="AniTrimestreMes2" visible="true" hasAll="true">
        <Table name="tiempo">
        </Table>
        <Level name="Anio" visible="true" column="ANIO" type="String" uniqueMembers="false" levelType="Regular" hideMemberIf="Never">
        </Level>
      </Hierarchy>
    </Dimension>
    <Measure name="Personas+" datatype="Numeric" aggregator="sum" caption="Total Personas" visible="true">
		<MeasureExpression>
			<SQL dialect="generic">
			(case when sales_fact_1997.promotion_id =
			0 then 0 else sales_fact_1997.store_sales end)
			</SQL>
		</MeasureExpression>
    </Measure>
    <Measure name="Hogares+" column="HOGARES" datatype="Numeric" aggregator="sum" caption="Total Hogares" visible="true">
    </Measure>
  </Cube>
</Schema>
