@prefix qb4o: <http://purl.org/qb4olap/cubes#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix qb: <http://purl.org/linked-data/cube#>.
@prefix dims: <http://www.fing.edu.uy/inco/dsd/dimensions#> .
@prefix measures: <http://www.fing.edu.uy/inco/dsd/measures#> .
@prefix hier: <http://www.fing.edu.uy/inco/dsd/hierarchies#> .
@prefix cube: <http://www.fing.edu.uy/inco/dsd/cubes#> .
@prefix att: <http://www.fing.edu.uy/inco/dsd/attributes#> .

#DIMENSIONES

dims:UbicacionGeografica a qb:DimensionProperty;
rdfs:label "UbicacionGeografica"@es;
qb4o:hasHierarchy hier:BarrioHogar;
qb4o:hasHierarchy hier:RegionLocalidadHogar;
qb4o:hasHierarchy hier:DepartamentoLocalidadHogar.

hier:BarrioHogar a qb4o:HierarchyProperty;
rdfs:label "BarrioHogar"@es;
qb4o:inDimension dims:UbicacionGeografica;
qb4o:hasLevel dims:UbicacionGeografica_Barrio,dims:UbicacionGeografica_Hogar.

hier:RegionLocalidadHogar a qb4o:HierarchyProperty;
rdfs:label "RegionLocalidadHogar"@es;
qb4o:inDimension dims:UbicacionGeografica;
qb4o:hasLevel dims:UbicacionGeografica_Region,dims:UbicacionGeografica_Localidad,dims:UbicacionGeografica_Hogar.

hier:DepartamentoLocalidadHogar a qb4o:HierarchyProperty;
rdfs:label "DepartamentoLocalidadHogar"@es;
qb4o:inDimension dims:UbicacionGeografica;
qb4o:hasLevel dims:UbicacionGeografica_Departamento,dims:UbicacionGeografica_Localidad,dims:UbicacionGeografica_Hogar.

dims:UbicacionGeografica_Hogar a qb4o:LevelProperty;
rdfs:label "UbicacionGeografica_Hogar"@es;
qb4o:hasAtribute att:UbicacionGeografica_Hogar_ColNombre;
qb4o:hasAtribute att:UbicacionGeografica_Hogar_PK;
qb4o:hasID att:UbicacionGeografica_Hogar_PK;
qb4o:inHierarchy hier:BarrioHogar;
qb4o:inHierarchy hier:RegionLocalidadHogar;
qb4o:inHierarchy hier:DepartamentoLocalidadHogar.

dims:UbicacionGeografica_Region a qb4o:LevelProperty;
rdfs:label "UbicacionGeografica_Region"@es;
qb4o:hasAtribute att:UbicacionGeografica_Region_ColNombre;
qb4o:hasAtribute att:UbicacionGeografica_Region_PK;
qb4o:hasID att:UbicacionGeografica_Region_PK;
qb4o:inHierarchy hier:RegionLocalidadHogar.

dims:UbicacionGeografica_Barrio a qb4o:LevelProperty;
rdfs:label "UbicacionGeografica_Barrio"@es;
qb4o:hasAtribute att:UbicacionGeografica_Barrio_ColNombre;
qb4o:hasAtribute att:UbicacionGeografica_Barrio_PK;
qb4o:hasAtribute att:nombre_Barrio;
qb4o:hasID att:UbicacionGeografica_Barrio_PK;
qb4o:inHierarchy hier:BarrioHogar.

dims:UbicacionGeografica_Localidad a qb4o:LevelProperty;
rdfs:label "UbicacionGeografica_Localidad"@es;
qb4o:hasAtribute att:UbicacionGeografica_Localidad_ColNombre;
qb4o:hasAtribute att:UbicacionGeografica_Localidad_PK;
qb4o:hasID att:UbicacionGeografica_Localidad_PK;
qb4o:inHierarchy hier:RegionLocalidadHogar;
qb4o:inHierarchy hier:DepartamentoLocalidadHogar.

dims:UbicacionGeografica_Departamento a qb4o:LevelProperty;
rdfs:label "UbicacionGeografica_Departamento"@es;
qb4o:hasAtribute att:UbicacionGeografica_Departamento_ColNombre;
qb4o:hasAtribute att:UbicacionGeografica_Departamento_PK;
qb4o:hasID att:UbicacionGeografica_Departamento_PK;
qb4o:inHierarchy hier:DepartamentoLocalidadHogar.

_:UbicacionGeografica_Barrio_BarrioHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Barrio ; qb4o:hierarchyComponent hier:BarrioHogar.
_:UbicacionGeografica_Hogar_BarrioHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Hogar ; qb4o:hierarchyComponent hier:BarrioHogar.
_:UbicacionGeografica_Hogar_UbicacionGeografica_Barrio_BarrioHogar a qb4o:HierarchyStep; qb4o:childLevel _:UbicacionGeografica_Hogar_BarrioHogar ; qb4o:parentLevel _:UbicacionGeografica_Barrio_BarrioHogar ; qb4o:cardinality qb4o:OneToMany.
_:UbicacionGeografica_Region_RegionLocalidadHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Region ; qb4o:hierarchyComponent hier:RegionLocalidadHogar.
_:UbicacionGeografica_Localidad_RegionLocalidadHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Localidad ; qb4o:hierarchyComponent hier:RegionLocalidadHogar.
_:UbicacionGeografica_Hogar_RegionLocalidadHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Hogar ; qb4o:hierarchyComponent hier:RegionLocalidadHogar.
_:UbicacionGeografica_Localidad_UbicacionGeografica_Region_RegionLocalidadHogar a qb4o:HierarchyStep; qb4o:childLevel _:UbicacionGeografica_Localidad_RegionLocalidadHogar ; qb4o:parentLevel _:UbicacionGeografica_Region_RegionLocalidadHogar ; qb4o:cardinality qb4o:OneToMany.
_:UbicacionGeografica_Hogar_UbicacionGeografica_Localidad_RegionLocalidadHogar a qb4o:HierarchyStep; qb4o:childLevel _:UbicacionGeografica_Hogar_RegionLocalidadHogar ; qb4o:parentLevel _:UbicacionGeografica_Localidad_RegionLocalidadHogar ; qb4o:cardinality qb4o:OneToMany.
_:UbicacionGeografica_Departamento_DepartamentoLocalidadHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Departamento ; qb4o:hierarchyComponent hier:DepartamentoLocalidadHogar.
_:UbicacionGeografica_Localidad_DepartamentoLocalidadHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Localidad ; qb4o:hierarchyComponent hier:DepartamentoLocalidadHogar.
_:UbicacionGeografica_Hogar_DepartamentoLocalidadHogar a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:UbicacionGeografica_Hogar ; qb4o:hierarchyComponent hier:DepartamentoLocalidadHogar.
_:UbicacionGeografica_Localidad_UbicacionGeografica_Departamento_DepartamentoLocalidadHogar a qb4o:HierarchyStep; qb4o:childLevel _:UbicacionGeografica_Localidad_DepartamentoLocalidadHogar ; qb4o:parentLevel _:UbicacionGeografica_Departamento_DepartamentoLocalidadHogar ; qb4o:cardinality qb4o:OneToMany.
#-------------------------------------------------------------------

dims:Tiempo a qb:DimensionProperty;
rdfs:label "Tiempo"@es;
qb4o:hasHierarchy hier:AnioTrimestreMes.

hier:AnioTrimestreMes a qb4o:HierarchyProperty;
rdfs:label "AnioTrimestreMes"@es;
qb4o:inDimension dims:Tiempo;
qb4o:hasLevel dims:Tiempo_Anio,dims:Tiempo_Trimestre,dims:Tiempo_Mes.

dims:Tiempo_Anio a qb4o:LevelProperty;
rdfs:label "Tiempo_Anio"@es;
qb4o:hasAtribute att:Tiempo_Anio_ColNombre;
qb4o:hasAtribute att:Tiempo_Anio_PK;
qb4o:hasID att:Tiempo_Anio_PK;
qb4o:inHierarchy hier:AnioTrimestreMes.

dims:Tiempo_Trimestre a qb4o:LevelProperty;
rdfs:label "Tiempo_Trimestre"@es;
qb4o:hasAtribute att:Tiempo_Trimestre_ColNombre;
qb4o:hasAtribute att:Tiempo_Trimestre_PK;
qb4o:hasID att:Tiempo_Trimestre_PK;
qb4o:inHierarchy hier:AnioTrimestreMes.

dims:Tiempo_Mes a qb4o:LevelProperty;
rdfs:label "Tiempo_Mes"@es;
qb4o:hasAtribute att:Tiempo_Mes_ColNombre;
qb4o:hasAtribute att:Tiempo_Mes_PK;
qb4o:hasAtribute att:nombre_mes;
qb4o:hasID att:Tiempo_Mes_PK;
qb4o:inHierarchy hier:AnioTrimestreMes.

_:Tiempo_Anio_AnioTrimestreMes a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:Tiempo_Anio ; qb4o:hierarchyComponent hier:AnioTrimestreMes.
_:Tiempo_Trimestre_AnioTrimestreMes a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:Tiempo_Trimestre ; qb4o:hierarchyComponent hier:AnioTrimestreMes.
_:Tiempo_Mes_AnioTrimestreMes a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:Tiempo_Mes ; qb4o:hierarchyComponent hier:AnioTrimestreMes.
_:Tiempo_Trimestre_Tiempo_Anio_AnioTrimestreMes a qb4o:HierarchyStep; qb4o:childLevel _:Tiempo_Trimestre_AnioTrimestreMes ; qb4o:parentLevel _:Tiempo_Anio_AnioTrimestreMes ; qb4o:cardinality qb4o:OneToMany.
_:Tiempo_Mes_Tiempo_Trimestre_AnioTrimestreMes a qb4o:HierarchyStep; qb4o:childLevel _:Tiempo_Mes_AnioTrimestreMes ; qb4o:parentLevel _:Tiempo_Trimestre_AnioTrimestreMes ; qb4o:cardinality qb4o:OneToMany.
#-------------------------------------------------------------------

dims:Confort a qb:DimensionProperty;
rdfs:label "Confort"@es;
qb4o:hasHierarchy hier:Confort.

hier:Confort a qb4o:HierarchyProperty;
rdfs:label "Confort"@es;
qb4o:inDimension dims:Confort;
qb4o:hasLevel dims:Confort_Confort.

dims:Confort_Confort a qb4o:LevelProperty;
rdfs:label "Confort_Confort"@es;
qb4o:hasAtribute att:Confort_Confort_ColNombre;
qb4o:hasAtribute att:Confort_Confort_PK;
qb4o:hasID att:Confort_Confort_PK;
qb4o:inHierarchy hier:Confort.

_:Confort_Confort_Confort a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:Confort_Confort ; qb4o:hierarchyComponent hier:Confort.
#-------------------------------------------------------------------

dims:TipodeVivienda a qb:DimensionProperty;
rdfs:label "TipodeVivienda"@es;
qb4o:hasHierarchy hier:TipodeVivienda.

hier:TipodeVivienda a qb4o:HierarchyProperty;
rdfs:label "TipodeVivienda"@es;
qb4o:inDimension dims:TipodeVivienda;
qb4o:hasLevel dims:TipodeVivienda_TipoVivienda.

dims:TipodeVivienda_TipoVivienda a qb4o:LevelProperty;
rdfs:label "TipodeVivienda_TipoVivienda"@es;
qb4o:hasAtribute att:TipodeVivienda_TipoVivienda_ColNombre;
qb4o:hasAtribute att:TipodeVivienda_TipoVivienda_PK;
qb4o:hasID att:TipodeVivienda_TipoVivienda_PK;
qb4o:inHierarchy hier:TipodeVivienda.

_:TipodeVivienda_TipoVivienda_TipodeVivienda a qb4o:LevelInHierarchy ; qb4o:levelComponent dims:TipodeVivienda_TipoVivienda ; qb4o:hierarchyComponent hier:TipodeVivienda.
#-------------------------------------------------------------------


#ATRIBUTOS

att:nombre_mes a qb:AttrubuteProperty;
rdfs:label "nombre_mes"@es.
att:nombre_Barrio a qb:AttrubuteProperty;
rdfs:label "nombre_Barrio"@es.
att:Tiempo_Anio_PK a qb:AttrubuteProperty;
rdfs:label "Tiempo_Anio_PK"@es.
att:Tiempo_Anio_ColNombre a qb:AttrubuteProperty;
rdfs:label "Tiempo_Anio_ColNombre"@es.
att:Confort_Confort_PK a qb:AttrubuteProperty;
rdfs:label "Confort_Confort_PK"@es.
att:Confort_Confort_ColNombre a qb:AttrubuteProperty;
rdfs:label "Confort_Confort_ColNombre"@es.
att:Tiempo_Trimestre_PK a qb:AttrubuteProperty;
rdfs:label "Tiempo_Trimestre_PK"@es.
att:Tiempo_Trimestre_ColNombre a qb:AttrubuteProperty;
rdfs:label "Tiempo_Trimestre_ColNombre"@es.
att:UbicacionGeografica_Hogar_PK a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Hogar_PK"@es.
att:UbicacionGeografica_Hogar_ColNombre a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Hogar_ColNombre"@es.
att:UbicacionGeografica_Region_PK a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Region_PK"@es.
att:UbicacionGeografica_Region_ColNombre a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Region_ColNombre"@es.
att:UbicacionGeografica_Barrio_PK a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Barrio_PK"@es.
att:UbicacionGeografica_Barrio_ColNombre a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Barrio_ColNombre"@es.
att:TipodeVivienda_TipoVivienda_PK a qb:AttrubuteProperty;
rdfs:label "TipodeVivienda_TipoVivienda_PK"@es.
att:TipodeVivienda_TipoVivienda_ColNombre a qb:AttrubuteProperty;
rdfs:label "TipodeVivienda_TipoVivienda_ColNombre"@es.
att:UbicacionGeografica_Localidad_PK a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Localidad_PK"@es.
att:UbicacionGeografica_Localidad_ColNombre a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Localidad_ColNombre"@es.
att:Tiempo_Mes_PK a qb:AttrubuteProperty;
rdfs:label "Tiempo_Mes_PK"@es.
att:Tiempo_Mes_ColNombre a qb:AttrubuteProperty;
rdfs:label "Tiempo_Mes_ColNombre"@es.
att:UbicacionGeografica_Departamento_PK a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Departamento_PK"@es.
att:UbicacionGeografica_Departamento_ColNombre a qb:AttrubuteProperty;
rdfs:label "UbicacionGeografica_Departamento_ColNombre"@es.

#MEDIDAS

measures:Hogares a qb:MeasureProperty;
rdfs:label "Hogares"@es.
measures:Personas a qb:MeasureProperty;
rdfs:label "Personas"@es.


#CUBOS

cube:req1 a qb:DataStructureDefinition;
rdfs:label "req1"@es;
qb:component [qb4o:level dims:UbicacionGeografica_Hogar ; qb4o:cardinality qb4o:ManyToOne];
qb:component [qb4o:level dims:Tiempo_Mes ; qb4o:cardinality qb4o:ManyToOne];
qb:component [qb4o:level dims:Confort_Confort ; qb4o:cardinality qb4o:ManyToOne];
qb:component [qb4o:level dims:TipodeVivienda_TipoVivienda ; qb4o:cardinality qb4o:ManyToOne];
qb:component [qb:measure measures:Personas; qb4o:hasAggregateFunction qb4o:sum];
qb:component [qb:measure measures:Hogares; qb4o:hasAggregateFunction qb4o:sum].

#DATASET

cube:dataset_req1 a qb:DataSet;
rdfs:label "DataSet req1"@es;
qb:structure cube:req1

#-------------------------------------------------------------------

